# Ops-Home Contract (v2.1)

## Purpose

Ops-Home is the **Cockpit UI** for the Dojo ecosystem.
It provides a visual layer over the "Truth" (Dojo filesystem) and its own local state.

## Data Layer

### 1. Reads from Dojo (The Truth)

Ops-Home treats `~/dojo` as the source of truth. It reads these paths:

- **System Context**: `~/.config/dojo/sync/latest.json`
  - Generated by `dojo sync`. Contains identity, project list, active agents.
- **Calendar**: `~/dojo/system/calendar/day_plan-*.json`
  - Defines daily focus and tasks.
- **Ideas**: `~/dojo/knowledge/ideas.json`
  - The backlog of thoughts.
- **Tasks**: `~/dojo/knowledge/tasks.json`
  - The tactical to-do list.
- **Market Data**:
  - `~/dojo/system/market_pairs.json`
  - `~/dojo/system/market_events/*.json`
- **Sports Slates**: `~/dojo/projects/ops-home/data/sports/nba/slates/*.json`

### 2. Writes / Owns (Local State)

Ops-Home manages UI-specific state and structured data that fits better in a database than a file.

- **Local DB**: `data/ops-home.db` (SQLite)
  - Tables: `wallets`, `projects` (metadata), `contracts`, `liquidity`, `notes` (cache).
  - **Rule**: This DB is for *operation*, not *archive*. If deleted, it should be rebuildable from `wallets.json` and `projects.json` via seed scripts.

### 3. Shared Write State

Ops-Home may append to these Dojo "Truth" files:

- `~/dojo/knowledge/ideas.json` (Add new idea)
- `~/dojo/knowledge/tasks.json` (Add new task)
- `~/dojo/knowledge/threads/activity_log.ndjson` (Log system events)

## Rules

1. **No New Silos**: Ops-Home must not invent new "truth" files outside `~/dojo` without updating System Docs.
2. **Client-Ship**: Ops-Home is a *client* of the Dojo filesystem. It does not dictate the folder structure.
3. **Sports Truth**: All sports data lives in JSON files in `data/sports/...`. Ops-Home reads/displays this; scripts automate it.
